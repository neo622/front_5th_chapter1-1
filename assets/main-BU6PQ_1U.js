import{P as d,L as g,M as u,g as m,E as c,r as f,s as p,u as v}from"./ErrorPage-DJzuc3vQ.js";const h={[`${base}/`]:u,[`${base}/login`]:g,[`${base}/profile`]:d},t={render:()=>{document.body.innerHTML='<div id="root"></div>';const n=document.getElementById("root"),i=m();let a=window.location.pathname;const o=h[a]||c;n.innerHTML=o.render(),o.afterRender&&o.afterRender(),a==="/profile"&&!i&&(history.replaceState(null,"","/login"),t.render()),a==="/login"&&i&&(history.replaceState(null,"","/"),t.render()),n.addEventListener("click",e=>{if(e.target.matches("a")){if(e.preventDefault(),e.target&&e.target.id==="logout"){f(),t.navigate("/login");return}const r=e.target.getAttribute("href");history.pushState(null,"",r),t.render()}}),n.addEventListener("submit",e=>{if(e.target&&e.target.id==="login-form"){e.preventDefault();let r=document.getElementById("username").value;console.log(r),p(r),t.navigate("/login")}if(e.target&&e.target.id==="profile-form"){e.preventDefault();let r=document.getElementById("username").value,l=document.getElementById("email").value,s=document.getElementById("bio").value;console.log(l,s),v(r,l,s)}})},navigate:n=>{history.pushState(null,"",n),t.render()}},y={init:()=>{t.render(),window.addEventListener("popstate",()=>{t.render()})}};y.init();
