import{g as d,P as c,L as u,M as m,E as h,r as f,s as v,u as p}from"./ErrorPage-DJzuc3vQ.js";const n="/front_5th_chapter1-1/",E={[`${n}#/`]:m,[`${n}#/login`]:u,[`${n}#/profile`]:c},t={render:()=>{console.log("base",n),document.body.innerHTML='<div id="root"></div>';const r=document.getElementById("root"),i=d();let a=window.location.hash;console.log("hashpath",`${n}${a}`);const l=E[`${n}${a}`]||h;r.innerHTML=l.render(),l.afterRender&&l.afterRender(),a==="#/profile"&&!i&&(console.log(i),location.hash="#/login",t.render()),a==="#/login"&&i&&(location.hash="#/",t.render()),r.addEventListener("click",e=>{if(e.target.matches("a")){if(e.preventDefault(),e.target&&e.target.id==="logout"){f(),t.navigate("#/login");return}const o=e.target.getAttribute("href");console.log("targetPath",o),location.hash=`${o}`,t.render()}}),r.addEventListener("submit",e=>{if(e.target&&e.target.id==="login-form"){e.preventDefault();let o=document.getElementById("username").value;console.log(o),v(o),t.navigate("#/")}if(e.target&&e.target.id==="profile-form"){e.preventDefault();let o=document.getElementById("username").value,s=document.getElementById("email").value,g=document.getElementById("bio").value;console.log(s,g),p(o,s,g)}})},navigate:r=>{location.hash=r,t.render()}},P={init:()=>{t.render(),window.addEventListener("hashchange",()=>{t.render()})}};P.init();
