import{g as d,P as u,L as c,M as m,E as f,r as p,s as v,u as h}from"./ErrorPage-DJzuc3vQ.js";const i="/front_5th_chapter1-1/",y={[`${i}/`]:m,[`${i}/login`]:c,[`${i}/profile`]:u},t={render:()=>{console.log(i),document.body.innerHTML='<div id="root"></div>';const n=document.getElementById("root"),l=d();let o=window.location.pathname;console.log("path?",o);const a=y[o]||f;console.log("page?",a),n.innerHTML=a.render(),a.afterRender&&a.afterRender(),o==="/profile"&&!l&&(history.replaceState(null,"","/login"),t.render()),o==="/login"&&l&&(history.replaceState(null,"","/"),t.render()),n.addEventListener("click",e=>{if(e.target.matches("a")){if(e.preventDefault(),e.target&&e.target.id==="logout"){p(),t.navigate("/login");return}const r=e.target.getAttribute("href");history.pushState(null,"",r),t.render()}}),n.addEventListener("submit",e=>{if(e.target&&e.target.id==="login-form"){e.preventDefault();let r=document.getElementById("username").value;console.log(r),v(r),t.navigate("/login")}if(e.target&&e.target.id==="profile-form"){e.preventDefault();let r=document.getElementById("username").value,s=document.getElementById("email").value,g=document.getElementById("bio").value;console.log(s,g),h(r,s,g)}})},navigate:n=>{history.pushState(null,"",n),t.render()}},E={init:()=>{t.render(),window.addEventListener("popstate",()=>{t.render()})}};E.init();
