import{g as u,P as c,L as m,M as p,E as f,r as v,s as h,u as y}from"./ErrorPage-DJzuc3vQ.js";const t="/front_5th_chapter1-1/",d={[`${t}`]:p,[`${t}login`]:m,[`${t}profile`]:c},r={render:()=>{console.log(t),document.body.innerHTML='<div id="root"></div>';const o=document.getElementById("root"),i=u();let a=window.location.pathname;console.log("path2?",a);const l=d[a]||f;console.log("page2?",d[a]),o.innerHTML=l.render(),l.afterRender&&l.afterRender(),a===`${t}profile`&&!i&&(history.replaceState(null,"","/login"),r.render()),a===`${t}login`&&i&&(history.replaceState(null,"","/"),r.render()),o.addEventListener("click",e=>{if(e.target.matches("a")){if(e.preventDefault(),e.target&&e.target.id==="logout"){v(),r.navigate(`${t}login`);return}const n=e.target.getAttribute("href").replace(/^\//,"");console.log("targetpath",n),history.pushState(null,"",`${t}${n}`),r.render()}}),o.addEventListener("submit",e=>{if(e.target&&e.target.id==="login-form"){e.preventDefault();let n=document.getElementById("username").value;console.log(n),h(n),r.navigate(`${t}login`)}if(e.target&&e.target.id==="profile-form"){e.preventDefault();let n=document.getElementById("username").value,s=document.getElementById("email").value,g=document.getElementById("bio").value;console.log(s,g),y(n,s,g)}})},navigate:o=>{history.pushState(null,"",o),r.render()}},E={init:()=>{r.render(),window.addEventListener("popstate",()=>{r.render()})}};E.init();
