import{g as u,P as c,L as m,M as f,E as p,r as v,s as h,u as y}from"./ErrorPage-DJzuc3vQ.js";const a="/front_5th_chapter1-1/",d={[`${a}`]:f,[`${a}login`]:m,[`${a}profile`]:c},t={render:()=>{console.log(a),document.body.innerHTML='<div id="root"></div>';const n=document.getElementById("root"),l=u();let o=window.location.pathname;console.log("path2?",o);const i=d[o]||p;console.log("page2?",d[o]),n.innerHTML=i.render(),i.afterRender&&i.afterRender(),o==="/profile"&&!l&&(history.replaceState(null,"","/login"),t.render()),o==="/login"&&l&&(history.replaceState(null,"","/"),t.render()),n.addEventListener("click",e=>{if(e.target.matches("a")){if(e.preventDefault(),e.target&&e.target.id==="logout"){v(),t.navigate("/login");return}const r=e.target.getAttribute("href");history.pushState(null,"",r),t.render()}}),n.addEventListener("submit",e=>{if(e.target&&e.target.id==="login-form"){e.preventDefault();let r=document.getElementById("username").value;console.log(r),h(r),t.navigate("/login")}if(e.target&&e.target.id==="profile-form"){e.preventDefault();let r=document.getElementById("username").value,s=document.getElementById("email").value,g=document.getElementById("bio").value;console.log(s,g),y(r,s,g)}})},navigate:n=>{history.pushState(null,"",n),t.render()}},E={init:()=>{t.render(),window.addEventListener("popstate",()=>{t.render()})}};E.init();
